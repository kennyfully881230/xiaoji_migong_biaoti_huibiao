<!DOCTYPE html>
<html lang="en">

<head><!-- The appropriate data will be generated with JavaScript. 将使用 JavaScript 生成适当的数据。 --></head>

<body><!-- A canvas will be generated with JavaScript. 将使用 JavaScript 生成 <canvas> --></body>

<script>
  // Generates the appropriate data inside the <head> and <body> tags.
  // 在 <head> 和 <body> 标签内生成适当的数据。
  'use strict'; (() => {document.querySelector('head').insertAdjacentHTML('beforeend', '<meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible"/><meta name="viewport"content="viewport-fit=cover,width=device-width,initial-scale=1,maximum-scale=1"/><link class="app-icon" rel="icon" href="#"/><style>*{box-sizing:border-box;color:#EEEEEE40;font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;user-select:none}body{align-items:center;background-color:#000010;display:flex;flex-direction:column;height:100dvh;justify-content:center} canvas{background-color:#EEEEEE;image-rendering:pixelated;}@media(orientation:landscape){canvas{height:100%}}@media(orientation:portrait){canvas{width:100%}}</style><title>小鸡迷宫标题徽标</title>'); document.querySelector('body').insertAdjacentHTML('afterbegin', '<canvas width="320px"height="320px"></canvas>')})();

  // todo: Erase the spriteSheetImage and function when no longer needed.
  // todo: 当不再需要时删除 spriteSheetImage 和函数。
  let spriteSheetImage = 'data:image/png;base64,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'; (() => {const image = new Image(); image.src = spriteSheetImage; spriteSheetImage = image})();

  const canvas = document.querySelector('canvas')
  const ctx = canvas.getContext('2d')

  const pixelSteps = [0, 2, 4, 6, 8, 6, 4, 2, 0]; // Manual easing

  const timers = {
    timer60: 0,
    timer60max: 59,
  }

  class DigiPointer {
    constructor() {
      this.pos = {
        isTouching: false,
        dx: null,
        dy: null
      }
    }

    render() {
      if (this.pos.dx && this.pos.dy && this.pos.isTouching) {
        ctx.fillStyle = 'rgba(0,0,0, 0.5)'
        ctx.fillRect(this.pos.dx, this.pos.dy, 1, 1)
      } else if (this.pos.dx && this.pos.dy) {
        ctx.fillStyle = 'rgba(0,0,0, 0.5)'
        ctx.fillRect(this.pos.dx, this.pos.dy, 1, 1)
      }
    }
  }

  class ColorModule {
    constructor(options) {
      this.id = options?.id ?? 0
      this.r = options?.r ?? 0
      this.g = options?.g ?? 0
      this.b = options?.b ?? 0
    }

    render() {
      const pathColorLabel = new Path2D(`m ${this.id % 2 * 160 + 5},141 v 2 h -4 v 2 h 2 v 2 h -2 v 12 h 2 v -2 h 2 v -2 h -2 v -2 h 2 v -2 h -2 v -2 h 2 v 2 h 2 v -2 h 4 v 4 h 2 v -6 h 4 v 2 h -2 v 6 h 2 v -2 h 2 v -8 h -4 v -2 h 4 v -2 h -8 v 2 h 2 v 2 h -2 v 2 h -2 v -2 h 2 v -2 h -4 v -2 z m 12,14 v 4 h 2 v -4 z m -2,0 h -2 v 2 h 2 z m -2,2 h -2 v 2 h 2 z m -2,-4 h -2 v 2 h 2 z m -2,2 h -2 v 2 h 2 z m -2,2 h -2 v 2 h 2 z m 0,-2 v -2 h -2 v 2 z m 0,-2 h 2 v -2 h -2 z m 18,-12 v 2 h 6 v 2 h -6 v -2 h -2 v 2 h -2 v 2 h 2 v 12 h 16 v -4 h -2 v 2 h -12 v -4 h 12 v -8 h -4 v -2 h 2 v -2 z m -20,4 h 2 v 2 h -2 z m 20,2 h 4 v 4 h -4 z m 6,0 h 4 v 4 h -4 z`)
      const pathNumber1 = new Path2D(`m 48,142 v 2 h -2 v 2 h -2 v 2 h 4 v 6 h -4 v 4 h 12 v -4 h -4 v -12 z`)
      const pathNumber2 = new Path2D(`m 206,142 v 2 h -2 v 4 2 h 4 v -2 h 2 v 2 h -1 -1 v 1 1 h -2 v 2 h -2 v 4 h 12 v -4 h -4 v -2 h 2 v -1 -1 h 2 v -2 -4 h -2 v -2 z`)

      ctx.fillStyle = `rgb(38,50,56)` // gray
      ctx.fill(pathColorLabel)
      this.id === 0 ? ctx.fill(pathNumber1) : ctx.fill(pathNumber2)
      ctx.fillRect(this.id % 2 * 160 + 62, 142, 16, 16) // current outline
      ctx.fillStyle = `rgb(${this.r},${this.g},${this.b})`
      ctx.fillRect(this.id % 2 * 160 + 64, 144, 12, 12) // current color
    }
  }

  class ColorSlider {
    constructor(options) {
      this.id = options?.id ?? 0 // id should be between 0 and 5
      this.id < 3 ? this.colorModuleSet = 0 : this.colorModuleSet = 1
      this.dx = options?.dx ?? 0
      this.dy = options?.dy ?? 0
      this.dw = options?.dw ?? 50 // this only applies to the slider bar
      this.dh = options?.dh ?? 10 // this only applies to the slider bar
    }

    render(options) {
      const moduleSet = options.colorModules[this.colorModuleSet]
      const sliderType = moduleSet[this.id % 3 === 0 ? 'r' : this.id % 3 === 1 ? 'g' : 'b']
      ctx.drawImage(spriteSheetImage, this.id % 3 * 20 + 80, 100, 20, 20, Math.floor(this.id / 3) % 2 * 160, this.id % 3 * 40 + 180, 20, 20)
      ctx.fillStyle = `rgb(${moduleSet.r},${moduleSet.g},${moduleSet.b})`
      ctx.fillRect(Math.floor(this.id / 3) % 2 * 160 + 20, this.id % 3 * 40 + 188, 100, 4)  // slider bars
      ctx.drawImage(spriteSheetImage, 140, 100, 6, 20, Math.floor(this.id / 3) % 2 * 160 + 20 + Math.floor(sliderType / 255 * 49) - 2, this.id % 3 * 40 + 180, 6, 20) // sliders
    }

    update(options) {
      const moduleSet = options.colorModules[this.colorModuleSet]
      const sliderType = moduleSet[this.id % 3 === 0 ? 'r' : this.id % 3 === 1 ? 'g' : 'b']
      const digiPointerPOS = digiPointer.pos
      const hitBoxDX = Math.floor(this.id / 3) % 2 * 160 + 20
      const hitBoxDY = this.id % 3 * 40 + 180
      const hitBoxDW = 100
      const hitBoxDH = 20

      if (
        digiPointer.pos.dx >= hitBoxDX &&
        digiPointer.pos.dx < hitBoxDX + hitBoxDW &&
        digiPointer.pos.dy >= hitBoxDY &&
        digiPointer.pos.dy < hitBoxDY + hitBoxDH &&
        digiPointer.pos.isTouching
      ) {
        // posX - hitBoxX = normalize
        ctx.fillStyle = 'rgba(0,0,0,0.25)'
        ctx.fillRect(Math.floor(this.id / 3) % 2 * 160 + 20, this.id % 3 * 40 + 180, 100, 20)  // slider bars
        moduleSet[this.id % 3 === 0 ? 'r' : this.id % 3 === 1 ? 'g' : 'b'] = (digiPointerPOS.dx - hitBoxDX) / 49 * 255
      }
    }
  }

  // the color test and how to use message
  // Todo: add Chinese interface
  class HowToUseMsg {
    render() {
      ctx.drawImage(spriteSheetImage, 0, 0, 200, 40, 120, 0, 200, 40)
      ctx.drawImage(spriteSheetImage, 0, 40, 200, 60, 120, 60, 200, 60)
    }
  }

  class TitleLogo {
    constructor() {
      this.STATIC_PATH_SHADOW = new Path2D(`m 26,0 v 44 h -8 v 10 h 20 v -10 -44 z m 66,0 v 4 h -30 v 12 h 12 v 6 h -2 v -4 h -10 v 10 h 4 v 4 h 4 v 4 h -4 v 8 h -4 v 10 h 10 v -4 h 4 v -4 h 20 v 4 4 h 14 v -4 h 4 v -4 -10 -4 -6 h -4 v -2 -8 -12 h -8 v -4 z m -82,14 v 12 h -4 v 6 10 h 10 v -10 h 4 v -18 z m 34,0 v 14 h 4 v 14 h 10 v -14 -6 h -4 v -8 z m 50,10 h 2 v 2 h -2 z m -14,8 h 4 v 4 h -4 z m -74,34 v 4 6 h 4 v 4 h 10 v -4 -6 h -4 v -4 z m 30,0 v 4 4 h -4 v -4 h -10 v 6 4 h 4 v 2 h -20 v 10 h 8 v 2 2 6 2 h -4 v 2 2 h -4 v 6 4 h 10 v -4 h 6 v 4 h 36 v -4 -6 h -12 v -2 -4 h 2 v 4 h 10 v -4 -6 h -4 v -2 h 4 v -2 -10 h -4 v -2 h 4 v -4 -2 -4 h -10 v 4 h -2 v -4 -4 z m 44,0 v 4 h -18 v 10 14 h 10 v -14 h 2 v 6 4 6 h -4 v 10 2 10 h 36 v -10 -2 -10 h -4 v -6 -4 -6 h 2 v 14 h 10 v -14 -10 h -16 v -4 z m 2,20 h 12 v 4 h -12 z m -58,8 h 2 v 2 h -2 z m 8,8 h 4 v 4 2 h -8 v -2 h 4 z m 48,4 h 16 v 2 h -16 z`)
      this.STATIC_STRING_OUTLINE = `v 44 h -8 v 10 h 20 v -10 -44 z m 66,0 v 4 h -30 v 12 h 12 v 6 h -2 v -4 h -10 v 10 h 4 v 4 h 4 v 4 h -4 v 8 h -4 v 10 h 10 v -4 h 4 v -4 h 20 v 4 4 h 14 v -4 h 4 v -4 -10 -4 -6 h -4 v -2 -8 -12 h -8 v -4 z m -82,14 v 12 h -4 v 6 10 h 10 v -10 h 4 v -18 z m 34,0 v 14 h 4 v 14 h 10 v -14 -6 h -4 v -8 z m 50,10 h 2 v 2 h -2 z m -14,8 h 4 v 4 h -4 z m -74,34 v 4 6 h 4 v 4 h 10 v -4 -6 h -4 v -4 z m 30,0 v 4 4 h -4 v -4 h -10 v 6 4 h 4 v 2 h -20 v 10 h 8 v 2 2 6 2 h -4 v 2 2 h -4 v 6 4 h 10 v -4 h 6 v 4 h 36 v -4 -6 h -12 v -2 -4 h 2 v 4 h 10 v -4 -6 h -4 v -2 h 4 v -2 -10 h -4 v -2 h 4 v -4 -2 -4 h -10 v 4 h -2 v -4 -4 z m 44,0 v 4 h -18 v 10 14 h 10 v -14 h 2 v 6 4 6 h -4 v 10 2 10 h 36 v -10 -2 -10 h -4 v -6 -4 -6 h 2 v 14 h 10 v -14 -10 h -16 v -4 z m 2,20 h 12 v 4 h -12 z m -58,8 h 2 v 2 h -2 z m 8,8 h 4 v 4 2 h -8 v -2 h 4 z m 48,4 h 16 v 2 h -16 z`
      this.STATIC_STRING_BODY = `v 44 h -8 v 6 h 8 8 v -50 z m 66,0 v 4 h -8 v 8 20 h 6 14 v 12 h -8 v 6 h 10 v -4 h 4 v -14 -6 h -20 v -14 h 10 v 6 h -2 v -4 h -6 v 6 h 4 v 4 h 4 6 v -12 -8 h -8 v -4 z m -30,4 v 8 h 12 v 14 h -2 v -4 h -4 v -4 h -6 v 6 h 4 v 4 h 4 v 8 h -4 v 8 h -4 v 6 h 6 v -4 h 4 v -8 h 2 v 4 h 6 v -6 h -4 v -8 h 4 v -16 -8 z m -52,10 v 12 h -4 v 12 h 6 v -10 h 4 v -14 z m 34,0 v 10 h 4 v 14 h 6 v -16 h -4 v -8 z m 40,22 v 6 h 18 v -6 z m -78,30 v 6 h 4 v 4 h 6 v -6 h -4 v -4 z m 30,0 v 16 h -14 v 8 h 10 v 2 h -6 v 4 h -4 v 6 h 6 v -4 h 6 v -4 h 2 v 12 h 6 v -16 h 12 v -8 h -12 v -16 z m 44,0 v 4 h -18 v 6 14 h 6 v -14 h 36 v 14 h 6 v -14 -6 h -16 v -4 z m -58,4 v 6 h 4 v 4 h 8 v -6 h -6 v -4 z m 26,0 v 4 h -4 v 6 h 6 v -4 h 4 v -6 z m 26,8 v 4 8 4 h 24 v -4 -8 -4 z m -68,4 v 6 h 8 v 16 h -4 v 4 h -4 v 6 h 6 v -4 h 4 v -4 h 2 v 4 h 4 v 4 h 32 v -6 h -30 v -4 h -4 v -16 -6 z m 72,0 h 16 v 8 h -16 z m -34,10 v 6 h 4 v 4 h 6 v -6 h -4 v -4 z m 26,4 v 6 6 6 h 32 v -6 -6 -6 z m 6,6 h 20 v 6 h -20 z`
      this.STATIC_STRING_HIGHLIGHT = `v 2 42 h -8 v 2 4 h 2 v -4 h 6 2 v -44 h 6 v -2 z m 66,0 v 2 2 h -8 v 2 26 h 2 v -26 h 8 v -2 -2 h 4 v -2 z m -30,4 v 2 6 h 2 v -6 h 16 v -2 z m 36,0 v 2 h 8 v -2 z m -24,8 v 14 h -2 v 2 h 2 2 v -16 z m -2,16 h -2 v 8 h -4 v 2 6 h -4 v 2 4 h 2 v -4 h 2 2 v -8 h 2 2 z m 28,-16 v 6 h -2 v 2 h 2 2 v -8 z m -2,8 h -2 v 4 h 2 z m -88,-6 v 2 10 h -4 v 2 10 h 2 v -10 h 2 2 v -12 h 4 v -2 z m 34,0 v 2 8 h 2 v -8 h 4 v -2 z m 48,0 v 2 4 h 2 v -4 h 4 v -2 z m -30,4 v 2 4 h 2 v -4 h 4 v -2 z m -12,4 v 2 h 4 v -2 z m 0,2 h -2 v 14 h 2 z m 18,-2 v 2 h 4 v -2 z m 0,2 h -2 v 4 h 2 z m 22,2 v 2 h 20 v -2 z m 14,6 v 12 h -8 v 2 4 h 2 v -4 h 6 2 v -14 z m -28,4 v 2 h 4 v -2 z m 0,2 h -2 v 4 h 2 z m 8,-2 v 2 4 h 2 v -4 h 16 v -2 z m -78,30 v 2 4 h 2 v -4 h 4 v -2 z m 30,0 v 2 14 h -14 v 2 6 h 2 v -6 h 12 2 v -16 h 4 v -2 z m 44,0 v 2 2 h -18 v 2 18 h 2 v -18 h 16 2 v -4 h 12 v -2 z m -68,4 v 2 h 4 v -2 z m 0,2 h -2 v 4 h 2 z m 10,-2 v 2 4 h 2 v -4 h 4 v -2 z m 26,0 v 2 2 h -4 v 2 4 h 2 v -4 h 2 2 v -4 h 4 v -2 z m 46,0 v 2 h 16 v -2 z m -66,4 v 2 h 6 v -2 z m 0,2 h -2 v 4 h 2 z m 76,0 v 14 h 2 v -14 z m -30,2 v 2 14 h 2 v -14 h 22 v -2 z m -68,4 v 2 4 h 2 v -4 h 12 v -2 z m 36,0 v 2 h 12 v -2 z m 52,0 v 8 h -16 v 2 h 16 2 v -10 z m -80,6 v 16 h -4 v 2 2 h -4 v 2 4 h 2 v -4 h 2 2 v -4 h 2 2 v -18 z m 18,2 v 2 h 2 v -2 z m 0,2 h -6 v 2 2 h -4 v 2 4 h 2 v -4 h 2 2 v -4 h 4 z m 12,0 v 2 4 h 2 v -4 h 4 v -2 z m -8,2 v 12 h 2 v -12 z m 14,2 v 2 h 4 v -2 z m 0,2 h -2 v 4 h 2 z m 20,-2 v 2 16 h 2 v -16 h 30 v -2 z m 26,6 v 6 h -20 v 2 h 22 v -2 -6 z m -76,2 v 2 h 4 v -2 z m 0,2 h -2 v 4 h 2 z m 4,2 v 2 h 30 v -2 z m 0,2 h -2 v 4 h 2 z`
    }

    render(options) {
      const sine = options.sine
      const moduleSets = options.colorModules
      const moduleSet0 = moduleSets[0]
      const moduleSet1 = moduleSets[1]
      const sineResult = sine(0, 4, timers.timer60 / timers.timer60max)

      ctx.fillStyle = `rgb(${moduleSet1.r},${moduleSet1.g},${moduleSet1.b})`
      ctx.fill(this.STATIC_PATH_SHADOW)
      ctx.fill(new Path2D(`m ${22 + sineResult},0 ` + this.STATIC_STRING_OUTLINE))
      ctx.fillStyle = `rgb(${moduleSet0.r},${moduleSet0.g},${moduleSet0.b})`
      ctx.fill(new Path2D(`m ${24 + sineResult},2 ` + this.STATIC_STRING_BODY))
      ctx.fillStyle = 'rgb(255,255,255)'
      ctx.fill(new Path2D(`m ${24 + sineResult},2 ` + this.STATIC_STRING_HIGHLIGHT))
    }
  }

  class Scene {
    constructor() {
      this.utilFunctions = new UtilFunctions()
      this.titleLogo = new TitleLogo()
      this.howToUseMsg = new HowToUseMsg()

      this.colorModules = [
        new ColorModule({id: 0, r: 255, g: 171, b: 145}),
        new ColorModule({id: 1, r: 191, g: 54, b: 12}),
      ]

      this.colorSliders = []

      for (let i = 0; i < 6; i++) this.colorSliders.push(new ColorSlider({id: i}))

      this.render()
    }

    render() {
      ctx.clearRect(0, 0, canvas.width, canvas.height)
      this.titleLogo.render({colorModules: this.colorModules, sine: this.utilFunctions.sine})
      this.howToUseMsg.render()
      this.colorModules.forEach(module => module.render({sine: this.utilFunctions.sine}))
      this.colorSliders.forEach(slider => slider.render({colorModules: this.colorModules, sine: this.utilFunctions.sine}))
      digiPointer.render()
      this.update()
    }


    update() {
      this.colorSliders.forEach(slider => slider.update({colorModules: this.colorModules}))

      if (timers.timer60 >= timers.timer60max) {
        timers.timer60 = 0
      } else {
        timers.timer60++
      }

      requestAnimationFrame(() => this.render())
    }
  }

  class UtilFunctions {
    sine = (a, b, t) => {
      t = Math.min(Math.max(t, 0), 1);  // Clamp between 0 and 1
      const index = Math.floor(t * (pixelSteps.length - 1));  // Ensure index is in bounds
      return pixelSteps[index];
    }
  }

  const digiPointer = new DigiPointer()

  const scene = new Scene()

  canvas.addEventListener('pointerdown', (e) => {
    e.preventDefault()
    digiPointer.pos.isTouching = true
    digiPointer.pos.dx = Math.floor(e.offsetX / canvas.clientWidth * canvas.width)
    digiPointer.pos.dy = Math.floor(e.offsetY / canvas.clientHeight * canvas.height)
  })

  canvas.addEventListener('pointermove', (e) => {
    e.preventDefault()
    digiPointer.pos.dx = Math.floor(e.offsetX / canvas.clientWidth * canvas.width)
    digiPointer.pos.dy = Math.floor(e.offsetY / canvas.clientHeight * canvas.height)
  })

  canvas.addEventListener('pointerup', (e) => {
    e.preventDefault()
    digiPointer.pos.isTouching = false
    digiPointer.pos.dx = null
    digiPointer.pos.dy = null
  })

  canvas.addEventListener('pointercancel', (e) => {
    e.preventDefault()
    digiPointer.pos.isTouching = false
    digiPointer.pos.dx = null
    digiPointer.pos.dy = null
  })

  canvas.addEventListener('pointerout', (e) => {
    e.preventDefault()
    digiPointer.pos.isTouching = false
    digiPointer.pos.dx = null
    digiPointer.pos.dy = null
  })
</script>

</html>